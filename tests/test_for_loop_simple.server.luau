local Python = require('../src/PyLua/python')

-- Test a simple for loop that can be on one line conceptually
print("=== Testing Basic For Loop Compilation ===")

local bytecode = Python.compile([[
    i = 0
    for x in range(3):
        i = i + 1
    print(i)  
]])

print("Generated bytecode:")
print(bytecode)

print("\n=== Testing Execution ===")
local result, variables = Python.runBytecode(bytecode)
print("Execution result:", result)
print("Variables after execution:")
for name, value in pairs(variables) do
    print("  " .. name .. " = " .. tostring(value))
end
