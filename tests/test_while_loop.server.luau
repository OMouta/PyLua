local Python = require('../src/PyLua0.2/python')

-- Test while loop compilation and execution
print("=== Testing While Loop ===")

local bytecode = Python.compile([[
    i = 0
    while i < 5:
        print(i)
        i = i + 1
    print("Done, i =", i)
]])

print("Generated bytecode:")
print(bytecode)

print("\n=== Testing Execution ===")
local result, variables = Python.runBytecode(bytecode)
print("Execution result:", result)
print("Variables after execution:")
for name, value in pairs(variables) do
    print("  " .. name .. " = " .. tostring(value))
end
